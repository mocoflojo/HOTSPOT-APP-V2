{% extends 'base.html' %}

{% block title %}Generar Fichas{% endblock %}

{% block page_title %}Creaci√≥n de Usuarios{% endblock %}

{% block content %}
<div class="card bg-white rounded-lg p-6 mb-8">
    <h2 class="text-lg font-semibold mb-4 text-blue-600">‚ö° Generaci√≥n en Lote (Vouchers)</h2>
    <form action="{{ url_for('main.generar_vouchers') }}" method="POST" class="space-y-6">
        <div>
            <label for="cantidad" class="block text-sm font-medium text-gray-700">Cantidad de Fichas</label>
            <input type="number" name="cantidad" id="cantidad" value="1" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" required>
            <input type="hidden" name="server" value="all">
        </div>
        <div>
            <label for="modo_usuario" class="block text-sm font-medium text-gray-700">Modo de Usuario</label>
            <select name="modo_usuario" id="modo_usuario" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" required>
                <option value="pin" selected>Modo PIN (usuario = contrase√±a)</option>
                <option value="usuario">Modo Usuario (usuario y contrase√±a diferentes)</option>
            </select>
        </div>
        <div>
            <label for="longitud" class="block text-sm font-medium text-gray-700">Largo del C√≥digo</label>
            <select name="longitud" id="longitud" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" required>
                <option value="4" selected>4 caracteres</option>
                <option value="5">5 caracteres</option>
                <option value="6">6 caracteres</option>
                <option value="7">7 caracteres</option>
                <option value="8">8 caracteres</option>
            </select>
        </div>
        <div>
            <label for="caracteres" class="block text-sm font-medium text-gray-700">Tipo de Caracteres</label>
            <select name="caracteres" id="caracteres" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" required>
                <option value="combinado" selected>Letras y N√∫meros</option>
                <option value="numeros">Solo N√∫meros</option>
                <option value="letras">Solo Letras</option>
            </select>
        </div>
        <div>
            <label for="profile_lote" class="block text-sm font-medium text-gray-700">Perfil de Velocidad</label>
            <select name="profile" id="profile_lote" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" required>
                <option value="" disabled selected>Selecciona un perfil...</option>
                {% for profile in profiles %}
                    <option value="{{ profile.name }}">{{ profile.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="limit_uptime_lote" class="block text-sm font-medium text-gray-700">L√≠mite de Tiempo (Ej: 30m, 1h, 1d)</label>
            <input type="text" name="limit_uptime" id="limit_uptime_lote" placeholder="Dejar en blanco para no tener l√≠mite" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>
        <div>
            <label for="comment_lote" class="block text-sm font-medium text-gray-700">Comentario del Lote (Opcional)</label>
            <input type="text" name="comment" id="comment_lote" placeholder="Ej: Fichas para evento" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>
        <div class="pt-4">
            <button type="submit" class="w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                <i class="fas fa-cogs mr-2"></i>Generar Fichas
            </button>
        </div>
    </form>
</div>

<div class="card bg-white rounded-lg p-6 mb-8">
    <h2 class="text-lg font-semibold mb-4 text-green-600">üë§ Creaci√≥n Manual de Usuario</h2>
    <form action="{{ url_for('main.create_manual_user') }}" method="POST" class="space-y-6">
        <div>
            <label for="username" class="block text-sm font-medium text-gray-700">Nombre de Usuario</label>
            <input type="text" name="username" id="username" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500" required>
        </div>
        <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Contrase√±a</label>
            <input type="text" name="password" id="password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500" required>
        </div>
        <div>
            <label for="profile_manual" class="block text-sm font-medium text-gray-700">Perfil de Velocidad</label>
            <select name="profile" id="profile_manual" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500" required>
                <option value="" disabled selected>Selecciona un perfil...</option>
                {% for profile in profiles %}
                    <option value="{{ profile.name }}">{{ profile.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="limit_uptime_manual" class="block text-sm font-medium text-gray-700">L√≠mite de Tiempo (Ej: 30m, 1h, 1d)</label>
            <input type="text" name="limit_uptime" id="limit_uptime_manual" placeholder="Dejar en blanco para no tener l√≠mite" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500">
        </div>
        <div>
            <label for="comment_manual" class="block text-sm font-medium text-gray-700">Comentario (Opcional)</label>
            <input type="text" name="comment" id="comment_manual" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500">
        </div>
        <div class="pt-4">
            <button type="submit" class="w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                <i class="fas fa-user-plus mr-2"></i>Crear Usuario
            </button>
        </div>
    </form>
</div>
{% endblock %}